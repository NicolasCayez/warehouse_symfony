{% extends 'base.html.twig' %}

{% block page_content %}
	<div class="row content grid-1-5">
		{# 20% width : Menu#}
		{% include "/shared_templates/dashboard_menu.html.twig" %}
		<div class="col">
			{# 80% width : Main content #}
				{# 1st ROW : Warehouses List, Selected Warehouse, Search bar #}
				<div class="row vh-15 text-light grid-1-2-2">
					<div class="col h-100 p-1">
						<div class="cstm-card h-100">
							<div class="h-100">
								<p class="bg-cstm-blue pb-2 mb-0"> Product receptions for warehouse :</p>
								<p class="text-center my-0 fs-4">{{ warehouse.getWhName }}</p>
							</div>
						</div>
					</div>
					<div class="col h-100 p-1">
						<div class="cstm-card h-100">
							<p>Invoice / Parcel Informations</p>
							{% if product_list == 'empty' %}
								{{ form_start(form) }}
									<div class="row">
										<div class="col">
											{{ form_row(form.invoiceRef, {'label': 'Invoice'}) }}
										</div>
										<div class="col">
											{{ form_row(form.parcelRef, {'label': 'Parcel'}) }}
										</div>
									</div>
									<div class="row">
										<div class="col">
											{{ form_row(form.mvmtDate, {'label': 'Date'}) }}
										</div>
										<div class="col">
											{{ form_row(form.submit) }}
										</div>
									</div>
								{{ form_end(form) }}
							{% else %}
								<div class="row title-bold">
									<div class="col">
										Invoice : {{ movement.getInvoiceRef }}
									</div>
									<div class="col">
										Parcel : {{ movement.getParcelRef }}
									</div>
								</div>
								<div class="row title-bold">
									<div class="col">
										{{ movement.getMvmtDate|date("Y - m - d") }}
									</div>
								</div>
							{% endif %}
						</div>
					</div>
					<div class="col h-100 p-1">
						<div class="cstm-card h-100">
							<p>Filter list</p>
						</div>
					</div>
				</div>
				{# 2nd ROW : List #}
				<div class="vh-70 p-1">
					<div class="cstm-card h-100">
						<p class="row bg-cstm-blue pb-2 mb-0"></p>
						{% if product_list != 'empty' %}
							<div class="bg-light h-95 overflow-auto">
							<table class="table table-sm table-striped-columns table-hover table-responsive">
								<thead>
									<tr class="m-0 ps-1 text-center">
										<th scope="col" class="title">Product Name</th>
										<th scope="col" class="title">Serial</th>
										<th scope="col" class="title">Ref</th>
										<th scope="col" class="title">Ref 2</th>
										<th scope="col" class="title">Value</th>
									</tr>
								</thead>
								<tbody>
									{% for one_product in product_list %}
										<tr class="m-0 ps-1">
											<td class="title cstm-darkBlue">{{ one_product.getProductName }}</td>
											<td class="title cstm-darkBlue">{{ one_product.getProductSerialNumber }}</td>
											<td class="title cstm-darkBlue">{{ one_product.getProductRef }}</td>
											<td class="title cstm-darkBlue">{{ one_product.getProductRef2 }}</td>
											<td class="title cstm-darkBlue text-end">{{ one_product.getProductValue }}</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
							</div>
						{% endif %}
					</div>
				</div>
		</div>
	</div>
{% endblock %}
